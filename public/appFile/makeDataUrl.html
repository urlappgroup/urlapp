<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>html转dataurl</title>
    <script>
        function filterData() {



            var inputText = document.getElementById('inputText').value;

            const encoder = new TextEncoder();
            const data = encoder.encode(inputText);
            const base64 = btoa(String.fromCharCode(...new Uint8Array(data)));
            console.log(base64);




            var url = "data:text/html;base64," + base64;



            console.log("url length:" + url.length)
            document.getElementById('output').value = url;

            document.getElementById('myLaben').innerText = "url length:" + url.length;


        }






    </script>
</head>

<body>
    <label id="myLaben"></label>
    <br>
    <textarea id="inputText" rows="10" style="width: 45vw;height: 90vh;" onchange="filterData()"
        placeholder="输入html文件内容，编码后的dataurl输出在右边"></textarea>


    <!-- <span>输出结果:</span> -->
    <textarea id="output" rows="10" style="width: 45vw;height: 90vh;">输出结果</textarea>
</body>

</html>